let messageGen name = "Hello, " + name + "! ".
nameList := ["world", { name: "Rumya", repeat: 3 }].

let index: num = 0.
while let item = nameList 's index loop
begin
    print if { name: greeting, repeat: count } := item
        then greeting * count |> messageGen
        else messageGen item.
    index += 1
end.
